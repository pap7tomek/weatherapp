(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{38:function(e,t,n){},43:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a,r,c=n(1),u=n.n(c),i=n(12),s=n.n(i),o=(n(38),n(7)),d=(n(43),n(9)),l=n(29),p=n(33),j=n(11),b=n.n(j),h=n(15);!function(e){e.ADD_CITY="@@city/ADD_CITY",e.REMOVE_CITY="@@city/REMOVE_CITY",e.SELECT_CITY="@@city/SELECT_CITY",e.EDIT_CITY="@@city/EDIT_CITY"}(a||(a={})),function(e){e.EDIT_SELECTED_CITY="@@selectedCity/EDIT_SELECTED_CITY"}(r||(r={}));var m=function(e,t,n){return{payload:{name:e,temperature:t,weather:n},type:r.EDIT_SELECTED_CITY}},f=n(30),O=n.n(f),E=b.a.mark(C),T=b.a.mark(y);function C(e){var t,n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,O.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e.payload.name,"&units=metric&APPID=d94df1ef060b7fe3d3983bf5ee471190"));case 3:return t=a.sent,n=t.data,a.next=7,Object(h.b)(m(e.payload.name,n.main.temp,n.weather[0].main));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.error("error here!");case 12:case"end":return a.stop()}}),E,null,[[0,9]])}function y(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)([Object(h.c)("FETCH_WEATHER",C)]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),T)}var v=n(20),x=n(32),I={data:[]},_=Object(p.a)(),D=Object(d.combineReducers)({city:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.ADD_CITY:return{data:[].concat(Object(x.a)(e.data),[{id:t.payload.id,name:t.payload.name,weather:"",temperature:""}])};case a.REMOVE_CITY:return{data:e.data.filter((function(e){return e.id!==t.payload.id}))};case a.SELECT_CITY:return{data:e.data.map((function(e){return Object(v.a)(Object(v.a)({},e),{},{status:e.id===t.payload.id&&t.payload.status})}))};default:return e}},selectedCity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===r.EDIT_SELECTED_CITY?{name:t.payload.name,temperature:t.payload.temperature,weather:t.payload.weather}:e}}),w=Object(d.createStore)(D,{},Object(l.composeWithDevTools)(Object(d.applyMiddleware)(_)));_.run(y);o.c;var g=n(31),Y=n(4),S=function(){var e=Object(o.b)(),t=Object(c.useState)(""),n=Object(g.a)(t,2),r=n[0],u=n[1],i=function(t){var n;(t.preventDefault(),r)&&(e((n=r,{payload:{id:Math.random(),name:n,status:!1},type:a.ADD_CITY})),u(""))};return Object(Y.jsxs)("form",{onSubmit:function(e){return i(e)},children:[Object(Y.jsx)("label",{children:Object(Y.jsx)("input",{className:"Input",type:"text",value:r,onChange:function(e){return u(e.target.value)}})}),Object(Y.jsx)("input",{className:"Button",type:"submit",value:"Dodaj"})]})},k=function(e){var t=e.id,n=e.name,r=e.status,c=Object(o.b)(),u=function(e){c(function(e,t){return{payload:{id:e,status:t},type:a.SELECT_CITY}}(t,e.target.checked)),c(m(e.target.checked?n:"",null,""))};return Object(Y.jsxs)("div",{className:"ListItem",children:[Object(Y.jsx)("span",{children:n}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("input",{className:"Checkbox",checked:r||!1,onChange:function(e){return u(e)},type:"checkbox"}),Object(Y.jsx)("span",{onClick:function(){c(function(e){return{payload:{id:e},type:a.REMOVE_CITY}}(t)),r&&c(m("",null,""))},children:"x"})]})]})},L=function(){var e=Object(o.c)((function(e){return e.city})).data;return Object(Y.jsx)("div",{children:e.map((function(e){return Object(Y.jsx)(k,{id:e.id,status:e.status,name:e.name},e.id)}))})},R=function(){var e=Object(o.c)((function(e){return e.selectedCity})),t=Object(c.useRef)(null),n=Object(o.b)();return Object(c.useEffect)((function(){if(e.name){null!==t.current&&clearInterval(t.current),n({type:"FETCH_WEATHER",payload:{name:e.name}});var a=setInterval((function(){n({type:"FETCH_WEATHER",payload:{name:e.name}})}),1e4);t.current=a}else null!==t.current&&(clearInterval(t.current),t.current=null)}),[e.name]),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("p",{children:e.name}),Object(Y.jsx)("p",{children:e.temperature?"Temperatura: ".concat(e.temperature):""}),Object(Y.jsx)("p",{children:e.weather?"Pogoda: ".concat(e.weather):""})]})},A=function(){return Object(Y.jsx)(o.a,{store:w,children:Object(Y.jsxs)("div",{className:"App-header",children:[Object(Y.jsxs)("div",{className:"Form",children:[Object(Y.jsx)(S,{}),Object(Y.jsx)(L,{})]}),Object(Y.jsx)("div",{className:"Result",children:Object(Y.jsx)(R,{})})]})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,u=t.getTTFB;n(e),a(e),r(e),c(e),u(e)}))};s.a.render(Object(Y.jsx)(u.a.StrictMode,{children:Object(Y.jsx)(A,{})}),document.getElementById("root")),F()}},[[65,1,2]]]);
//# sourceMappingURL=main.eee36599.chunk.js.map