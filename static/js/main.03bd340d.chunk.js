(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{38:function(e,t,a){},43:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n,r,c=a(1),u=a.n(c),s=a(12),i=a.n(s),o=(a(38),a(7)),d=(a(43),a(9)),l=a(29),p=a(33),j=a(11),b=a.n(j),m=a(15);!function(e){e.ADD_CITY="@@city/ADD_CITY",e.REMOVE_CITY="@@city/REMOVE_CITY",e.SELECT_CITY="@@city/SELECT_CITY",e.EDIT_CITY="@@city/EDIT_CITY"}(n||(n={})),function(e){e.EDIT_SELECTED_CITY="@@selectedCity/EDIT_SELECTED_CITY"}(r||(r={}));var h=function(e,t,a){return{payload:{name:e,temperature:t,weather:a},type:r.EDIT_SELECTED_CITY}},f=a(30),O=a.n(f),E=b.a.mark(C),T=b.a.mark(y);function C(e){var t,a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,O.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e.payload.name,"&units=metric&APPID=d94df1ef060b7fe3d3983bf5ee471190"));case 3:return t=n.sent,a=t.data,n.next=7,Object(m.b)(h(e.payload.name,a.main.temp,a.weather[0].main));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error("error here!");case 12:case"end":return n.stop()}}),E,null,[[0,9]])}function y(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)([Object(m.c)("FETCH_WEATHER",C)]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),T)}var v=a(20),x=a(32),I={data:[{id:1,name:"Warszawa",status:!1},{id:2,name:"Pozna\u0144",status:!1}]},_=Object(p.a)(),D=Object(d.combineReducers)({city:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.ADD_CITY:return{data:[].concat(Object(x.a)(e.data),[{id:t.payload.id,name:t.payload.name,status:!1}])};case n.REMOVE_CITY:return{data:e.data.filter((function(e){return e.id!==t.payload.id}))};case n.SELECT_CITY:return{data:e.data.map((function(e){return Object(v.a)(Object(v.a)({},e),{},{status:e.id===t.payload.id&&t.payload.status})}))};default:return e}},selectedCity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===r.EDIT_SELECTED_CITY?{name:t.payload.name,temperature:t.payload.temperature,weather:t.payload.weather}:e}}),w=Object(d.createStore)(D,{},Object(l.composeWithDevTools)(Object(d.applyMiddleware)(_)));_.run(y);o.c;var g=a(31),Y=a(4),S=function(){var e=Object(o.b)(),t=Object(c.useState)(""),a=Object(g.a)(t,2),r=a[0],u=a[1],s=function(t){var a;(t.preventDefault(),r)&&(e((a=r,{payload:{id:Math.random(),name:a,status:!1},type:n.ADD_CITY})),u(""))};return Object(Y.jsxs)("form",{onSubmit:function(e){return s(e)},children:[Object(Y.jsx)("label",{children:Object(Y.jsx)("input",{className:"Input",type:"text",value:r,onChange:function(e){return u(e.target.value)}})}),Object(Y.jsx)("input",{className:"Button",type:"submit",value:"Dodaj"})]})},k=function(e){var t=e.id,a=e.name,r=e.status,c=Object(o.b)(),u=function(e){c(function(e,t){return{payload:{id:e,status:t},type:n.SELECT_CITY}}(t,e.target.checked)),c(h(e.target.checked?a:"",null,""))};return Object(Y.jsxs)("div",{className:"ListItem",children:[Object(Y.jsx)("span",{children:a}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("input",{className:"Checkbox",checked:r||!1,onChange:function(e){return u(e)},type:"checkbox"}),Object(Y.jsx)("span",{className:"Cursor",onClick:function(){c(function(e){return{payload:{id:e},type:n.REMOVE_CITY}}(t)),r&&c(h("",null,""))},children:"x"})]})]})},L=function(){var e=Object(o.c)((function(e){return e.city})).data;return Object(Y.jsx)("div",{children:e.map((function(e){return Object(Y.jsx)(k,{id:e.id,status:e.status,name:e.name},e.id)}))})},R=function(){var e=Object(o.c)((function(e){return e.selectedCity})),t=Object(c.useRef)(null),a=Object(o.b)();return Object(c.useEffect)((function(){if(e.name){null!==t.current&&clearInterval(t.current),a({type:"FETCH_WEATHER",payload:{name:e.name}});var n=setInterval((function(){a({type:"FETCH_WEATHER",payload:{name:e.name}})}),1e4);t.current=n}else null!==t.current&&(clearInterval(t.current),t.current=null)}),[e.name]),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("p",{children:e.name}),Object(Y.jsx)("p",{children:e.temperature?"Temperatura: ".concat(e.temperature):""}),Object(Y.jsx)("p",{children:e.weather?"Pogoda: ".concat(e.weather):""})]})},A=function(){return Object(Y.jsx)(o.a,{store:w,children:Object(Y.jsxs)("div",{className:"App-header",children:[Object(Y.jsxs)("div",{className:"Form",children:[Object(Y.jsx)(S,{}),Object(Y.jsx)(L,{})]}),Object(Y.jsx)("div",{className:"Result",children:Object(Y.jsx)(R,{})})]})})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,66)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,u=t.getTTFB;a(e),n(e),r(e),c(e),u(e)}))};i.a.render(Object(Y.jsx)(u.a.StrictMode,{children:Object(Y.jsx)(A,{})}),document.getElementById("root")),F()}},[[65,1,2]]]);
//# sourceMappingURL=main.03bd340d.chunk.js.map